{
    "task_prompt_worldgen_create_location_from_scene": "Based on the world theme and the scene description below, invent a suitable location. Your response must be a single, valid JSON object.\n\n### World Theme:\n{world_theme}\n\n### Scene Description:\n{scene_prompt}\n\n### Your Task:\nGenerate a JSON object for this location with the following keys:\n- `Name`: A creative and fitting proper name.\n- `Description`: A compelling, one or two-sentence description.\n- `Type`: A short, descriptive category (e.g., 'Tavern', 'Crypt', 'Forest Clearing').\n\n### Example Response:\n```json\n{{\n  \"Name\": \"The Mended Lute Tavern\",\n  \"Description\": \"A cozy, well-worn tavern known for its cheap ale and the surprisingly good music played on its magically repaired lute.\",\n  \"Type\": \"Tavern\"\n}}\n```",
    "task_prompt_worldgen_decide_action_explore": "Your goal is to build out the world in an interesting and logical way. Based on your current location, decide on the next action to take.\n\n### World Theme:\n{world_theme}\n\n### Current Location:\n{location_context_string}\n\n### Your Task:\nChoose ONE of the following keywords for your next action:\n- `NAVIGATE`: If moving to an existing, connected location is the best step for exploration.\n- `CREATE`: If this area needs a new location to make it more interesting.\n- `POPULATE`: If the current location feels empty and needs an inhabitant.\n- `ACCEPT`: If you are finished exploring from this location for now. \n Good Example: \"CREATE\". Bad Example: \"I choose CREATE.\"\n Respond with ONLY the keyword.",
    "task_prompt_worldgen_create_location_json_interstitial": "Your goal is to create an intermediate location that logically connects where you are to where you want to go. Your response must be a single, valid JSON object.\n\n### World Theme:\n{world_theme}\n\n### Scene Goal:\n{scene_prompt}\n\n### Current Location:\n{current_location_summary}\n\n### Target Location:\n{target_location_summary}\n\n### Available Relationships:\n{valid_relationships}\n\n### Your Task:\nGenerate a JSON object for a new location with the following keys:\n- `Name`: A creative and fitting proper name.\n- `Description`: A compelling, one or two-sentence description.\n- `Type`: A short, descriptive category.\n- `Relationship`: The most logical spatial relationship from the list above.",
    "task_prompt_worldgen_create_interstitial_name": "Invent a name for a new location that serves as a logical bridge between your current location and your target destination.\n\n### World Theme:\n{world_theme}\n\n### Scene Goal:\n{scene_prompt}\n\n### Current Location:\n{current_location_summary}\n\n### Target Location:\n{target_location_summary}\n\nRespond with ONLY the name.",
    "task_prompt_worldgen_create_interstitial_desc": "You have named a new location '{new_name}'. Write a compelling, one or two-sentence description for it, explaining how it connects your current location to your target.\n\n### World Theme:\n{world_theme}\n\n### Current Location:\n{current_location_summary}\n\n### Target Location:\n{target_location_summary}\n\nRespond with ONLY the description.",
    "task_prompt_worldgen_create_interstitial_type": "Based on the new location's name and description, provide a short, descriptive category for it (1-3 words).\n\n### New Location:\n- Name: {new_name}\n- Description: {new_description}\n\nRespond with ONLY the category.",
    "task_prompt_worldgen_create_explore_name": "Invent a name for a new location to expand the world, starting from your current location.\n\n### World Theme:\n{world_theme}\n\n### Current Location:\n{current_location_summary}\n\nRespond with ONLY the name.",
    "task_prompt_worldgen_create_explore_desc": "You have named a new location '{new_name}'. Write a compelling, one or two-sentence description for it.\n\n### World Theme:\n{world_theme}\n\n### Current Location:\n{current_location_summary}\n\nRespond with ONLY the description.",
    "task_prompt_worldgen_create_explore_type": "Based on the new location's name and description, provide a short, descriptive category for it (1-3 words).\n\n### New Location:\n- Name: {new_name}\n- Description: {new_description}\n\nRespond with ONLY the category.",
    "task_prompt_worldgen_decide_action_sceneplace": "Your goal is to connect the target location to the world map. You are currently at the location described below. Your next action should be a logical step towards reaching the target.\n\n### World Theme:\n{world_theme}\n\n### Scene Goal:\n{scene_prompt}\n\n### Your Current Location:\n{location_context_string}\n\n### Your Target Location:\n- Name: {target_location_name}\n- Description: {target_location_description}\n\n### Your Task:\nChoose ONE of the following keywords for your next action:\n- `NAVIGATE`: If moving to an existing, connected location is the best step towards your target.\n- `CREATE`: If you need to create a new, intermediate location to bridge the gap towards your target.\n- `ACCEPT`: If your CURRENT location is a logical place to connect your TARGET location to (e.g., the target is a shop and you are in a city).\n Good Example: \"CREATE\". Bad Example: \"I choose CREATE.\"\n Respond with ONLY the keyword.",
    "task_prompt_worldgen_determine_final_relationship": "You have arrived at '{current_location_name}'. Your task is to place the new location '{target_location_name}' here. What is the most logical spatial relationship between them?\n\n### Current Location Description:\n{current_location_description}\n\n### Target Location Description:\n{target_location_description}\n\n### Available Relationships:\n{available_relationships_list}\n\n\n Good Example: \"NORTH\". Bad Example: \"I WALK TO THE NORTH.\"Respond with ONLY the chosen relationship keyword.",
    "task_prompt_worldgen_create_location_json_explore": "Based on the context, invent a new, logical, and interesting location to expand the world. Your response must be a single, valid JSON object.\n\n### World Theme:\n{world_theme}\n\n### Current Location:\n{current_location_summary}\n\n### Available Relationships:\n{valid_relationships}\n\n### Your Task:\nGenerate a JSON object for a new location with the following keys:\n- `Name`: A creative and fitting proper name.\n- `Description`: A compelling, one or two-sentence description.\n- `Type`: A short, descriptive category (e.g., 'Ruined City', 'Enchanted Forest').\n- `Relationship`: The most logical spatial relationship from the list above.\n\n### Example Response:\n```json\n{{\n  \"Name\": \"The Whispering Fens\",\n  \"Description\": \"A vast, misty swamp known for strange, disembodied voices that drift on the wind.\",\n  \"Type\": \"Region\",\n  \"Relationship\": \"NEARBY\"\n}}\n```",
    "task_prompt_worldgen_choose_navigation_target_sceneplace": "You have decided to NAVIGATE. Choose the destination from the list that gets you logically closer to your target location.\n\n### World Theme:\n{world_theme}\n\n### Scene Goal:\n{scene_prompt}\n\n### Current Location:\n{current_location_name}\n\n### Target Location:\n- Name: {target_location_name}\n- Description: {target_location_description}\n\n### Available Destinations:\n{available_destinations_string}\n\nRespond with ONLY the name of the location you choose.",
    "task_prompt_worldgen_choose_navigation_target_explore": "You have decided to NAVIGATE to a connected location. Choose the most interesting or logical destination from the list below to continue exploring.\n\n### World Theme:\n{world_theme}\n\n### Current Location:\n{current_location_name}\n\n### Available Destinations:\n{available_destinations_string}\n\nRespond with ONLY the name of the location you choose.",
    "task_prompt_worldgen_create_theme": "You are a creative muse. The user has asked to build a new world but provided no theme. Your task is to invent a single, compelling, and unique theme for a fantasy, real world, or sci-fi setting.\nA theme should be an \"elevator pitch\" or a \"header for an online fanfic\" containing several synergistic components:\n\n    Core Concept: A short phrase describing the world's unique hook.\n\n    Genre/Mood: The feeling or category of the story.\n\n    Tags: A few keywords, like on a fiction website, to specify sub-genres, explicit content, or key elements.\n\n    Writing Style: A brief instruction on the desired prose style.\nExamples:\n\"Cyberpunk Noir. A rain-slicked corporate arcology where memories are traded on the black market and loyalty is a commodity. Tags: Corporate espionage, Found Family, Body Horror. Writing Style: Sharp, cynical prose.\"\n\"Gaslamp Fantasy | Slow Burn. In a world where the last vestiges of wild magic are being brutally industrialized, a disgraced court mage and a skeptical engineer must uncover a conspiracy that threatens to extinguish it forever. Tags: Magitek, Political Intrigue, Fading Magic. Writing Style: Ornate, formal prose with a sense of melancholy.\"\n\"Urban Fantasy, Slice of Life. A government archivist discovers the paranormal is real, but can only be managed through endless, soul-crushing paperwork. Tags: Mundane Magic, Eldritch Bureaucracy, Existential Dread, Workplace Humor. Writing Style: Blunt, dry, understated.\"\n Respond with ONLY the theme.",
    "task_prompt_worldgen_name_world": "Based on the following theme, invent a unique and evocative name for a new world, or take it from the theme if it names it there. The name should be a single proper noun (e.g., 'Aethelgard', 'Xylos', 'Cydonia'). Do not explain your choice. Respond with ONLY the name.\n\nTheme: \"{world_theme}\"",
    "task_prompt_worldgen_create_npc_concept": "Invent a concept for a new, unique NPC who lives in the location described below. The concept should fit the theme of the world and be different from the inhabitants who are already present.\n\n### World Theme:\n{world_theme}\n\n### Location:\n- Name: {location_name}\n- Description: {location_description}\n\n### Existing Inhabitants:\n{existing_inhabitants_list}\n\nRespond with ONLY a single line in the format: `Name - One-sentence description.`"
}