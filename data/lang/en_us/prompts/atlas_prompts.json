{
    "task_prompt_worldgen_create_location_json_with_relationship": "You are Atlas, a world-builder. Based on the context, invent a new location. Your response must be a single, valid JSON object.\n\n### World Theme:\n{world_theme}\n\n### Current Location:\n{current_location_summary}\n\n### Available Relationships:\n{valid_relationships}\n\n### Your Task:\nGenerate a JSON object for a new location with the following keys:\n- `Name`: A creative and fitting proper name.\n- `Description`: A compelling, one or two-sentence description.\n- `Type`: A short, descriptive category (e.g., 'Ruined City', 'Enchanted Forest').\n- `Relationship`: The most logical spatial relationship from the list above.\n\n### Example Response:\n```json\n{{\n  \"Name\": \"The Gilded Gryphon\",\n  \"Description\": \"A boisterous tavern known for its strong ale and the questionable characters who frequent it.\",\n  \"Type\": \"Tavern\",\n  \"Relationship\": \"INSIDE\"\n}}\n```",
    "task_prompt_worldgen_decide_action": "You are Atlas, a world-builder. Your current goal is to {goal_description} Based on the context below, decide on the next logical action.\n\n### World Theme:\n{world_theme}\n\n### Scene to Place (if any):\n{scene_prompt}\n\n### Current Location Context:\n{location_context_string}\n\n### Your Task:\nChoose ONE of the following keywords.\n\n### Keywords:\n- `NAVIGATE`: If moving to a new location in the list is necessary.\n- `CREATE`: If this area needs a new location.\n- `POPULATE`: If the current location needs an inhabitant that would be present at most times, like a bartender, librarian, shopkeeper, etc.\n- `ACCEPT`: If the current location is a compelling place for a scene for a story.\n",
    "task_prompt_worldgen_choose_navigation_target": "You are Atlas, a world-builder. You have decided to NAVIGATE to a connected location. Choose the most logical destination from the list below to either find a home for the scene or to continue exploring.\n\n### World Theme:\n{world_theme}\n\n### Scene to Place (if any):\n{scene_prompt}\n\n### Current Location:\n{current_location_name}\n\n### Available Destinations:\n{available_destinations_string}\n\nRespond with ONLY the name of the location you choose.",
    "task_prompt_worldgen_determine_relationship": "You are Atlas, a wor ld-builder. You are creating a new location '{new_location_name}' connected to '{parent_location_name}'. What is the most logical spatial relationship between them?\n\n### Context:\n{creation_context}\n\n### Available Relationships:\n- `REGION`: A large area that contains other locations (e.g., a Kingdom containing a Forest).\n- `INSIDE`: A smaller place contained within the current location (e.g., a shop in a city).\n- `NEARBY`: A distinct location adjacent to the current one (e.g., a forest next to a city).\n- `NORTH`, `SOUTH`, `EAST`, `WEST`: A location in a specific cardinal direction, forming a persistent map.\n- `UP`, `DOWN`, `ABOVE`, `BELOW`, `LEFT`, `RIGHT`, `FORWARD`, `BACKWARD`: Other directional relationships.\n\nRespond with ONLY the chosen relationship keyword.",
    "task_prompt_worldgen_suggest_parent": "You are Atlas, a world-builder, currently at the top-level root of a world. You have decided to 'zoom out' and create a new, higher-level parent location. Based on the existing root location's details, suggest a concept for a larger, more encompassing parent location (e.g., if the child is a 'city', the parent could be a 'kingdom' or a 'continent').\n\n### World Theme:\n{world_theme}\n\n### Existing Root Location (will become the child):\n- Name: {child_name}\n- Description: {child_description}\n\nRespond with ONLY a one-sentence description of the new parent location.",
    "task_prompt_worldgen_create_theme": "You are a creative muse. The user has asked to build a new world but provided no theme. Your task is to invent a single, compelling, and unique theme for a fantasy, real world, or sci-fi setting.\nA theme should be an \"elevator pitch\" or a \"header for an online fanfic\" containing several synergistic components:\n\n    Core Concept: A short phrase describing the world's unique hook.\n\n    Genre/Mood: The feeling or category of the story.\n\n    Tags: A few keywords, like on a fiction website, to specify sub-genres, explicit content, or key elements.\n\n    Writing Style: A brief instruction on the desired prose style.\nExamples:\n\"Cyberpunk Noir. A rain-slicked corporate arcology where memories are traded on the black market and loyalty is a commodity. Tags: Corporate espionage, Found Family, Body Horror. Writing Style: Sharp, cynical prose.\"\n\"Gaslamp Fantasy | Slow Burn. In a world where the last vestiges of wild magic are being brutally industrialized, a disgraced court mage and a skeptical engineer must uncover a conspiracy that threatens to extinguish it forever. Tags: Magitek, Political Intrigue, Fading Magic. Writing Style: Ornate, formal prose with a sense of melancholy.\"\n\"Urban Fantasy, Slice of Life. A government archivist discovers the paranormal is real, but can only be managed through endless, soul-crushing paperwork. Tags: Mundane Magic, Eldritch Bureaucracy, Existential Dread, Workplace Humor. Writing Style: Blunt, dry, understated.\"\n Respond with ONLY the theme.",
    "task_prompt_worldgen_name_world": "Based on the following theme, invent a unique and evocative name for a new world, or take it from the theme if it names it there. The name should be a single proper noun (e.g., 'Aethelgard', 'Xylos', 'Cydonia'). Do not explain your choice. Respond with ONLY the name.\n\nTheme: \"{world_theme}\"",
    "task_prompt_worldgen_create_location_name": "You are Atlas, a world-builder. Based on the context below, invent a creative and fitting proper name for a new location.\n\n### World Theme:\n{world_theme}\n\n### Parent Location:\n- Name: {parent_name}\n- Description: {parent_description}\n\n### Idea:\n\"{user_idea}\"\n\nRespond with ONLY the name.",
    "task_prompt_worldgen_create_location_desc": "You are Atlas, a world-builder. You have just named a new location '{new_name}'. Write a compelling, one or two-sentence description for it, based on the context below.\n\n### World Theme:\n{world_theme}\n\n### Parent Location:\n- Name: {parent_name}\n- Description: {parent_description}\n\nRespond with ONLY the description.",
    "task_prompt_worldgen_create_location_type": "You are Atlas, a world-builder. Based on the new location's name, description, and the world's theme, provide a short, descriptive category for it (1-3 words).\n\n### World Theme:\n{world_theme}\n\n### New Location:\n- Name: {new_name}\n- Description: {new_description}\n\n### Examples:\n- Ruined City\n- Enchanted Forest\n- Volcanic Region\n- Bustling Metropolis\n- Unique Landmark\n\nRespond with ONLY the category.",
    "task_prompt_worldgen_create_npc_concept": "You are Atlas, a world-builder. Invent a concept for an NPC who lives in the location described below. The concept should fit the theme of the world.\n\n### World Theme:\n{world_theme}\n\n### Location:\n- Name: {location_name}\n- Description: {location_description}\n\nRespond with ONLY a single line in the format: `Name - One-sentence description.`"
}