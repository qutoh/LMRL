{
  "task_prompt_equipment_describe_items": "The following new items have been introduced into the story. For each item, create a short description. Your response MUST be a single, valid JSON object where each key is an item name, and the value is another object with a single `description` key.\n\n### Story Context:\n{context}\n\n### Items to Describe (semicolon-separated):\n{item_names_list}\n\n### JSON Example:\n```json\n{{\n  \"Steel Shield\": {{\n    \"description\": \"A sturdy steel shield, dented from past battles.\"\n  }},\n  \"Rusty Key\": {{\n    \"description\": \"An old iron key, covered in rust.\"\n  }}\n}}\n```\n\n### Fallback Format:\nIf you cannot generate JSON, for each item, provide `name; description` on a new line.\nExample:\nSteel Shield; A sturdy steel shield, dented from past battles.\nRusty Key; An old iron key, covered in rust. Respond with ONLY this list.",
  "task_prompt_equipment_generate_gear_from_profile": "Based on the character's profile and the scene context, create a list of appropriate starting equipment. Include all clothing the character is wearing or is implied to be wearing, from head to toe. Do not include body parts or physical features with these items. Your response MUST be a single, valid JSON object containing a list named 'items'. Each item object in the list must have two keys: `name` and `description` OR the list can be empty if there are none.\n\n### Character Profile:\n- Name: {character_name}\n- Description: {character_description}\n- Instructions: {character_instructions}\n\n### Scene Context:\n{scene_context}\n\n### JSON Example:\n```json\n{{\n  \"items\": [\n    {{\n      \"name\": \"Supple Leather Armor\",\n      \"description\": \"Well-worn but masterfully crafted leather armor that allows for silent movement.\"\n    }},\n    {{\n      \"name\": \"Twin Daggers\",\n      \"description\": \"A matched pair of sharp, easily concealed daggers.\"\n    }}\n  ]\n}}\n```\n### Your JSON Output:",
  "task_prompt_equipment_describe_one_item": "Based on the context, write a brief, one-sentence description for the following item.\n\n### Story Context:\n{context}\n\n### Item to Describe:\n{item_name}\n\nRespond with ONLY the one-sentence description.",
  "task_prompt_equipment_generate_initial": "Analyze the character's physical description to create a list of their starting equipment.  Include all clothing the character is wearing or is implied to be wearing, from head to toe. Do not include body parts or personal physical features with these items, like expressions, personality, body type, etc. Your response MUST be a single, valid JSON object containing a list named 'items'. Each item object in the list must have two keys: `name` and `description` OR the list can be empty if there are none.\n\n### Character Description:\n{physical_description}\n\n### JSON Example:\n```json\n{{\n  \"items\": [\n    {{\n      \"name\": \"Supple Leather Armor\",\n      \"description\": \"Well-worn but masterfully crafted leather armor that allows for silent movement.\"\n    }},\n    {{\n      \"name\": \"Twin Daggers\",\n      \"description\": \"A matched pair of sharp, easily concealed daggers.\"\n    }}\n  ]\n}}\n```\n### Your JSON Output:",
  "task_prompt_equipment_get_item_names_from_desc": "Analyze the character's physical description and identify all pieces of equipment mentioned. Do not include body parts or personal physical features with these items. Include all clothing the character is wearing or is implied to be wearing, from head to toe. \n\n### Character Description:\n{physical_description}\n\nRespond with ONLY a semicolon-separated list of the item names you identify or 'Nothing'. Example: `Supple Leather Armor; Twin Daggers; Hooded Cloak;`\n### Your list of equipment:",
  "task_prompt_equipment_modify": "Analyze the recent events and determine which items, if any, were added or removed from the character's equipped inventory. The character's current inventory is provided for context.\n\n### Current Equipped Items:\n{equipped_items_list}\n\n### Recent Events:\n{recent_events}\n\n### Your Task:\nIdentify any items that were added or removed. For each change, output a command on a new line. Use partial names if necessary.\n- To add an item, use the format: `ADD: <Item Name>`\n- To remove an item, use the format: `REMOVE: <Item Name>`\n\n### Fallback Format:\nIf you have trouble with the line-by-line format, you may use a single line of semicolon-separated commands, like: `ADD: Steel Shield; REMOVE: Hooded Cloak;`\n\n### Example:\n**Events:** Evelyn shrugs off her heavy cloak, letting it fall to the floor. She then draws a longsword from the scabbard on her back.\n**Equipped:** Hooded Cloak, Dagger\n**Your Response:**\nREMOVE: Hooded Cloak\nADD: Longsword",
  "task_prompt_equipment_identify_targets": "Read the recent events and identify which character(s) from the provided list had their equipment or inventory directly changed (gained, lost, or moved an item).\n\n### Characters Present:\n{character_list}\n\n### Recent Events:\n{recent_events}\n\nRespond with ONLY a semicolon-separated list of the names of the affected characters. If no one's equipment changed, respond with 'NONE'.\n\n### Example:\n**Events:** Evelyn hands the glowing gem to Valerius for safekeeping.\n**Characters:** Evelyn, the Shadow; Valerius, the Fighter\n**Your Response:** Evelyn, the Shadow; Valerius, the Fighter"
}